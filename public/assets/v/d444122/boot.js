(function(w,d){'use strict';var B=w.GG_BOOT=w.GG_BOOT||{};function S(n){try{var e=d.documentElement;if(!e)return;var c=e.dataset&&typeof e.dataset.ggBoot!=='undefined'?e.dataset.ggBoot:e.getAttribute('data-gg-boot')||'';if(n>(parseInt(c,10)||0)){if(e.dataset)e.dataset.ggBoot=String(n);else e.setAttribute('data-gg-boot',String(n));}}catch(_){}}S(1);B.setStage=B.setStage||S;if(B._booted)return;B._booted=true;function D(){if(B._isDev!==undefined)return B._isDev;try{var m=d.querySelector('meta[name="gg:mode"]');B._isDev=!!(m&&(m.getAttribute('content')||'')==='dev');}catch(_){B._isDev=false;}return B._isDev;}function W(){try{w.console&&console.warn&&console.warn.apply(console,arguments);}catch(_){}}function X(){var s=d.currentScript;if(s&&s.src)return s.src;var l=d.getElementsByTagName('script');for(var i=l.length-1;i>=0;i--){var u=l[i].src||'';if(u.indexOf('/boot.js')!==-1)return u;}return'';}function K(){var q='dialog#gg-search,#gg-search-dialog,#gg-search-modal,[data-gg-search-modal]',n=d.querySelectorAll?d.querySelectorAll(q):[];for(var i=0;i<n.length;i++){var e=n[i];if(e&&e.parentNode)e.parentNode.removeChild(e);}}K();if(d.readyState==='loading')d.addEventListener('DOMContentLoaded',K,{once:true});var src=X(),base='',search='';try{if(src){var u=new URL(src,w.location.href);search=u.search||'';if(u.pathname.indexOf('/assets/latest/boot.js')!==-1)base='/assets/latest';else{var m=u.pathname.match(/\/assets\/v\/([^/]+)\/boot\.js/);if(m&&m[1])base='/assets/v/'+m[1];}}}catch(_){}if(!base){try{var a=d.querySelector('meta[name="gg:asset-base"]');base=a?(a.getAttribute('content')||''):'';}catch(_){base='';}}if(!base)base='/assets/latest';var mainUrl=base+'/main.js'+search,loaded=false,loading=false,fired=false;function I(){if(B._instant)return;B._instant=true;var s=d.createElement('script');s.src='https://instant.page/5.2.0';s.type='module';s.integrity='sha384-jnZyxPjiipYXnSU0ygqeac2q7CVYMbh84q0uHVRRxEtvFPiQYbXWUorga2aqZJ0z';s.crossOrigin='anonymous';(d.head||d.documentElement).appendChild(s);}function M(){if(loaded||loading||B._mainRequested)return;B._mainRequested=true;loading=true;var s=d.createElement('script');s.src=mainUrl;s.async=true;s.onload=function(){loading=false;loaded=true;if(!D())I();};s.onerror=function(){loading=false;W('GG boot: main.js failed to load');};(d.head||d.documentElement).appendChild(s);}function C(){try{var i=d.querySelector('nav.gg-dock input[type="search"],nav.gg-dock [data-gg-dock-search-input]');if(i){w.requestAnimationFrame(function(){try{i.focus({preventScroll:true});}catch(_){try{i.focus();}catch(__){}}});return true;}}catch(_){}return false;}function H(){w.__ggHotkeySearchPending=1;w.__GG_PENDING_SEARCH=true;try{if(w.GG&&w.GG.boot&&typeof w.GG.boot.requestUi==='function')w.GG.boot.requestUi('cmdk-hotkey');}catch(_){}if(C())w.__ggHotkeySearchPending=0;try{w.dispatchEvent(new CustomEvent('gg:search-open',{detail:{source:'hotkey'}}));}catch(_){}}function F(){if(fired)return;fired=true;U();M();}function O(e){if(!e||e.defaultPrevented)return;var k=e.key||'';if(!(e.ctrlKey||e.metaKey)||e.altKey||e.shiftKey||(k!=='k'&&k!=='K'))return;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();F();H();}function E(){F();}function U(){try{d.removeEventListener('pointerdown',E,true);}catch(_){}try{d.removeEventListener('keydown',E,true);}catch(_){}try{w.removeEventListener('keydown',O,true);}catch(_){}}function J(t){var r=function(){if(!fired)F();};if(w.requestIdleCallback)w.requestIdleCallback(r,{timeout:t});else w.setTimeout(r,t);}function P(){if(!w.requestAnimationFrame){J(1500);return;}w.requestAnimationFrame(function(){w.requestAnimationFrame(function(){J(1500);});});}function L(){var r=function(){J(5000);};if(d.readyState==='complete'){r();return;}w.addEventListener('load',r,{once:true});}w.addEventListener('keydown',O,true);d.addEventListener('pointerdown',E,{passive:true,capture:true,once:true});d.addEventListener('keydown',E,{passive:true,capture:true,once:true});if(D())P();else L();})(window,document);
